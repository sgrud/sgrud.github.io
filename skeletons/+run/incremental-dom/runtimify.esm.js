let t="key",n=!1,e=!1,r=!1;function o(t){if(!t)throw new Error("Expected value to be defined");return t}function l(t){if(!r)throw new Error("Cannot call "+t+"() unless in patch.")}function i(t){if(n)throw new Error(t+"() can not be called between elementOpenStart() and elementOpenEnd().")}function c(t){if(e)throw new Error(t+"() may not be called inside an element that has called skip().")}function s(t){if(!n)throw new Error(t+"() can only be called after calling elementOpenStart().")}function u(t){r=null!=t}function a(t){const e=n;return n=t,e}function f(t){const n=e;return e=t,n}const h=Object.prototype.hasOwnProperty;function d(){}function p(){return new d}function m(t,n){for(;t.length>n;)t.pop()}d.prototype=Object.create(null);const g={default:"__default"};function w(t,n,e){if(null==e)t.removeAttribute(n);else{const r=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":null}(n);r?t.setAttributeNS(r,n,String(e)):t.setAttribute(n,String(e))}}function y(t,n,e){t[n]=e}function b(t,n,e){n.indexOf("-")>=0?t.setProperty(n,e):t[n]=e}const x=p();function O(t,n,e){(x[n]||x[g.default])(t,n,e)}x[g.default]=function(t,n,e){const r=typeof e;"object"===r||"function"===r?y(t,n,e):w(t,n,e)},x.style=function(t,n,e){o("style"in t);const r=t.style;if("string"==typeof e)r.cssText=e;else{r.cssText="";for(const t in e)h.call(e,t)&&b(r,t,e[t])}};const A={nodesCreated:null,nodesDeleted:null};class S{constructor(){this.created=[],this.deleted=[]}markCreated(t){this.created.push(t)}markDeleted(t){this.deleted.push(t)}notifyChanges(){A.nodesCreated&&this.created.length>0&&A.nodesCreated(this.created),A.nodesDeleted&&this.deleted.length>0&&A.nodesDeleted(this.deleted)}}function E(t){return 1===t.nodeType}const C="undefined"!=typeof Node&&Node.prototype.getRootNode||function(){let t=this,n=t;for(;t;)n=t,t=t.parentNode;return n};class D{constructor(t,n,e){this._attrsArr=null,this.staticsApplied=!1,this.nameOrCtor=t,this.key=n,this.text=e}hasEmptyAttrsArr(){const t=this._attrsArr;return!t||!t.length}getAttrsArr(t){return this._attrsArr||(this._attrsArr=function(t){const n=new Array(t);return m(n,0),n}(t))}}function _(t,n,e,r){const o=new D(n,e,r);return t.__incrementalDOMData=o,o}function k(n,e){if(n.__incrementalDOMData)return n.__incrementalDOMData;const r=E(n)?n.localName:n.nodeName,o=t,l=E(n)&&null!=o?n.getAttribute(o):null,i=_(n,r,E(n)?l||e:null);return E(n)&&function(t,n){const e=t.attributes,r=e.length;if(!r)return;const o=n.getAttrsArr(r);for(let t=0,n=0;t<r;t+=1,n+=2){const r=e[t],l=r.value;o[n]=r.name,o[n+1]=l}}(n,i),i}function N(t,n){return k(t,n)}function v(t,n,e,r,o){return n==e&&r==o}let M=null,P=null,T=null,I=null,j=[],B=v,L=[],R=[];function K(){return L}function q(){return R}function z(t,n,e){const r=N(t,e);return B(t,n,r.nameOrCtor,e,r.key)}function U(t,n,e){const r=t;let o=n;for(;o!==e;){const t=o.nextSibling;r.removeChild(o),M.markDeleted(o),o=t}}function V(){return P?P.nextSibling:T.firstChild}function W(){T=P,P=null}function X(){U(T,V(),null),P=T,T=T.parentNode}function F(){P=V()}function G(t,n){F();const e=function(t,n,e){if(!P)return null;let r=P;do{if(z(r,n,e))return r}while(e&&(r=r.nextSibling));return null}(0,t,n),r=e||function(t,n){let e;return e="#text"===t?function(t){const n=t.createTextNode("");return _(n,"#text",null),n}(I):function(t,n,e,r){let o;if("function"==typeof e)o=new e;else{const r=function(t,n){return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/Math/MathML":null==n||"foreignObject"===N(n).nameOrCtor?null:n.namespaceURI}(e,n);o=r?t.createElementNS(r,e):t.createElement(e)}return _(o,e,r),o}(I,T,t,n),M.markCreated(e),e}(t,n);r!==P&&(j.indexOf(r)>=0?function(t,n,e){const r=n.nextSibling;let o=P;for(;null!==o&&o!==n;){const n=o.nextSibling;t.insertBefore(o,r),o=n}}(T,r):T.insertBefore(r,P),P=r)}function H(t,n){return G(t,n),W(),T}function J(){return f(!1),X(),P}function Q(){return G("#text",null),P}function Y(){return l("currentElement"),i("currentElement"),T}function Z(t,e={}){const{matches:r=v}=e;return(e,l,i)=>{const c=M,s=I,h=j,d=L,p=R,m=P,g=T,w=B;let y=!1,b=!1;I=e.ownerDocument,M=new S,B=r,L=[],R=[],P=null,T=e.parentNode,j=function(t,n){const e=function(t){const n=C.call(t);return function(t){return 11===t.nodeType||9===t.nodeType}(n)?n.activeElement:null}(t);return e&&t.contains(e)?function(t,n){const e=[];let r=t;for(;r!==n;){const t=o(r);e.push(t),r=t.parentNode}return e}(e,n):[]}(e,T),y=a(!1),b=f(!1),u(M);try{const r=t(e,l,i);return function(){if(n)throw new Error("elementOpenEnd() must be called after calling elementOpenStart().")}(),r}finally{M.notifyChanges(),I=s,M=c,B=w,L=d,R=p,P=m,T=g,j=h,a(y),f(b),u(M)}}}function $(t){return Z((t,n,e)=>(P=t,W(),n(e),X(),function(t,n){if(P===n)return;let e=P;const r=[];for(;e&&e!==n;)r.push(e.nodeName.toLowerCase()),e=e.parentNode;throw new Error("One or more tags were not closed:\n"+r.join("\n"))}(0,t),t),t)}function tt(t){return Z((t,n,e)=>{const r={nextSibling:t};let l=null,i=null;return l=t.nextSibling,i=t.previousSibling,P=r,n(e),T||console.warn("patchOuter requires the node have a parent if there is a key."),function(t,n,e,r){const l=o(t),i=o(n);if(!(i.nextSibling===e&&i.previousSibling===r||i.nextSibling===l.nextSibling&&i.previousSibling===r||i===l))throw new Error("There must be exactly one top level call corresponding to the patched element.")}(r,P,l,i),T&&U(T,V(),t.nextSibling),r===P?null:P},t)}const nt=$(),et=tt(),rt=[];let ot=0;function lt(t,n,e,r){rt.push(t),rt.push(n),rt.push(e),rt.push(r)}const it=p(),ct=p();function st(t,n){const e=q();(function(t,n,e,r){const o=!t.length;let l=0;for(;l<n.length;l+=2){const i=n[l];if(o)t[l]=i;else if(t[l]!==i)break;const c=n[l+1];(o||t[l+1]!==c)&&(t[l+1]=c,lt(r,e,i,c))}if(l<n.length||l<t.length){const o=l;for(l=o;l<t.length;l+=2)it[t[l]]=t[l+1];for(l=o;l<n.length;l+=2){const o=n[l],i=n[l+1];it[o]!==i&&lt(r,e,o,i),t[l]=o,t[l+1]=i,delete it[o]}m(t,n.length);for(const t in it)lt(r,e,t,void 0),delete it[t]}!function(){const t=ot,n=rt.length;ot=n;for(let e=t;e<n;e+=4)(0,rt[e])(rt[e+1],rt[e+2],rt[e+3]);ot=t,m(rt,t)}()})(n.getAttrsArr(e.length),e,t,O),m(e,0)}function ut(t,n,e){if(n.staticsApplied)return;if(n.staticsApplied=!0,!e||!e.length)return;if(n.hasEmptyAttrsArr()){for(let n=0;n<e.length;n+=2)O(t,e[n],e[n+1]);return}for(let t=0;t<e.length;t+=2)ct[e[t]]=t+1;const r=n.getAttrsArr(0);let o=0;for(let t=0;t<r.length;t+=2){const n=r[t],l=r[t+1],i=ct[n];i?e[i]===l&&delete ct[n]:(r[o]=n,r[o+1]=l,o+=2)}m(r,o);for(const n in ct)O(t,n,e[ct[n]]),delete ct[n]}function at(t,n,e){const r=K();i("elementOpenStart"),a(!0),r[0]=t,r[1]=n,r[2]=e}function ft(t,n){const e=q();l("attr"),e.push(t),e.push(n)}function ht(){const t=K();s("elementOpenEnd"),a(!1);const n=H(t[0],t[1]),e=N(n);return ut(n,e,t[2]),st(n,e),m(t,0),n}function dt(t,n,e,...r){i("elementOpen"),c("elementOpen"),at(t,n,e);for(let t=3;t<arguments.length;t+=2)ft(arguments[t],arguments[t+1]);return ht()}function pt(t){i("elementClose");const n=J();return function(t,n){if(t!==n)throw new Error('Received a call to close "'+n+'" but "'+t+'" was open.')}(N(n).nameOrCtor,t),n}var mt=w,gt=y,wt=x,yt=G,bt=J,xt=$,Ot=tt,At=Y,St=function(){return l("currentPointer"),i("currentPointer"),V()},Et=H,Ct=nt,Dt=nt,_t=et,kt=function(){!function(t,n){if(null!==P)throw new Error("skip() must come before any child declarations inside the current element.")}(),f(!0),P=T.lastChild},Nt=F,vt=function(n){t=n},Mt=function t(n){n.__incrementalDOMData=null;for(let e=n.firstChild;e;e=e.nextSibling)t(e)},Pt=function(t){return o(t.__incrementalDOMData),N(t).key},Tt=function t(n){k(n);for(let e=n.firstChild;e;e=e.nextSibling)t(e)},It=function(t){return Boolean(t.__incrementalDOMData)},jt=A,Bt=g,Lt=function(){const t=Y();st(t,N(t))},Rt=function(t){const n=Y();ut(n,N(n),t)},Kt=ft,qt=pt,zt=dt,Ut=ht,Vt=at,Wt=function(t,n,e,...r){return dt.apply(null,arguments),pt(t)},Xt=function(t){const n=K();s("key"),o(n),n[1]=t},Ft=function(t,...n){i("text"),c("text");const e=Q(),r=N(e);if(r.text!==t){r.text=t;let n=t;for(let t=1;t<arguments.length;t+=1)n=(0,arguments[t])(n);e.data!==n&&(e.data=n)}return e};export{yt as alignWithDOM,mt as applyAttr,Lt as applyAttrs,gt as applyProp,Rt as applyStatics,Kt as attr,wt as attributes,Mt as clearCache,bt as close,xt as createPatchInner,Ot as createPatchOuter,At as currentElement,St as currentPointer,qt as elementClose,zt as elementOpen,Ut as elementOpenEnd,Vt as elementOpenStart,Wt as elementVoid,Pt as getKey,Tt as importNode,It as isDataInitialized,Xt as key,jt as notifications,Et as open,Ct as patch,Dt as patchInner,_t as patchOuter,vt as setKeyAttributeName,kt as skip,Nt as skipNode,Bt as symbols,Ft as text};
//# sourceMappingURL=runtimify.esm.js.map
