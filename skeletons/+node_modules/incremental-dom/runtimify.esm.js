let t="key",n=!1,e=!1,r=!1;function o(t){if(!t)throw new Error("Expected value to be defined");return t}function l(t){if(!r)throw new Error("Cannot call "+t+"() unless in patch.")}function i(t){if(n)throw new Error(t+"() can not be called between elementOpenStart() and elementOpenEnd().")}function c(t){if(e)throw new Error(t+"() may not be called inside an element that has called skip().")}function s(t){if(!n)throw new Error(t+"() can only be called after calling elementOpenStart().")}function u(t){r=null!=t}function a(t){const e=n;return n=t,e}function f(t){const n=e;return e=t,n}const h=Object.prototype.hasOwnProperty;function d(){}function p(){return new d}function m(t,n){for(;t.length>n;)t.pop()}d.prototype=Object.create(null);const g={default:"__default"};function w(t,n,e){if(null==e)t.removeAttribute(n);else{const r=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":null}(n);r?t.setAttributeNS(r,n,String(e)):t.setAttribute(n,String(e))}}function y(t,n,e){t[n]=e}function b(t,n,e){n.indexOf("-")>=0?t.setProperty(n,e):t[n]=e}const x=p();function O(t,n,e){(x[n]||x[g.default])(t,n,e)}x[g.default]=function(t,n,e){const r=typeof e;"object"===r||"function"===r?y(t,n,e):w(t,n,e)},x.style=function(t,n,e){o("style"in t);const r=t.style;if("string"==typeof e)r.cssText=e;else{r.cssText="";for(const t in e)h.call(e,t)&&b(r,t,e[t])}};const A={nodesCreated:null,nodesDeleted:null};class S{constructor(){this.created=[],this.deleted=[]}markCreated(t){this.created.push(t)}markDeleted(t){this.deleted.push(t)}notifyChanges(){A.nodesCreated&&this.created.length>0&&A.nodesCreated(this.created),A.nodesDeleted&&this.deleted.length>0&&A.nodesDeleted(this.deleted)}}function E(t){return 1===t.nodeType}const C="undefined"!=typeof Node&&Node.prototype.getRootNode||function(){let t=this,n=t;for(;t;)n=t,t=t.parentNode;return n};class D{constructor(t,n,e){this._attrsArr=null,this.staticsApplied=!1,this.nameOrCtor=t,this.key=n,this.text=e}hasEmptyAttrsArr(){const t=this._attrsArr;return!t||!t.length}getAttrsArr(t){return this._attrsArr||(this._attrsArr=function(t){const n=new Array(t);return m(n,0),n}(t))}}function _(t,n,e,r){const o=new D(n,e,r);return t.__incrementalDOMData=o,o}function k(n,e){if(n.__incrementalDOMData)return n.__incrementalDOMData;const r=E(n)?n.localName:n.nodeName,o=t,l=E(n)&&null!=o?n.getAttribute(o):null,i=_(n,r,E(n)?l||e:null);return E(n)&&function(t,n){const e=t.attributes,r=e.length;if(!r)return;const o=n.getAttrsArr(r);for(let t=0,n=0;t<r;t+=1,n+=2){const r=e[t],l=r.value;o[n]=r.name,o[n+1]=l}}(n,i),i}function N(t,n){return k(t,n)}function v(t,n,e,r,o){return n==e&&r==o}let M=null,P=null,T=null,I=null,j=[],B=v,L=[],R=[];function K(){return L}function q(){return R}function z(t,n,e){const r=N(t,e);return B(t,n,r.nameOrCtor,e,r.key)}function U(t,n,e){const r=t;let o=n;for(;o!==e;){const t=o.nextSibling;r.removeChild(o),M.markDeleted(o),o=t}}function V(){return P?P.nextSibling:T.firstChild}function W(){T=P,P=null}function X(){U(T,V(),null),P=T,T=T.parentNode}function F(){P=V()}function G(t,n){F();const e=function(t,n,e){if(!P)return null;let r=P;do{if(z(r,n,e))return r}while(e&&(r=r.nextSibling));return null}(0,t,n),r=e||function(t,n){let e;return e="#text"===t?function(t){const n=t.createTextNode("");return _(n,"#text",null),n}(I):function(t,n,e,r){let o;if("function"==typeof e)o=new e;else{const r=function(t,n){return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/Math/MathML":null==n||"foreignObject"===N(n).nameOrCtor?null:n.namespaceURI}(e,n);o=r?t.createElementNS(r,e):t.createElement(e)}return _(o,e,r),o}(I,T,t,n),M.markCreated(e),e}(t,n);r!==P&&(j.indexOf(r)>=0?function(t,n,e){const r=n.nextSibling;let o=P;for(;null!==o&&o!==n;){const n=o.nextSibling;t.insertBefore(o,r),o=n}}(T,r):T.insertBefore(r,P),P=r)}function H(t,n){return G(t,n),W(),T}function J(){return f(!1),X(),P}function Q(){return l("currentElement"),i("currentElement"),T}function Y(t,e={}){const{matches:r=v}=e;return(e,l,i)=>{const c=M,s=I,h=j,d=L,p=R,m=P,g=T,w=B;let y=!1,b=!1;I=e.ownerDocument,M=new S,B=r,L=[],R=[],P=null,T=e.parentNode,j=function(t,n){const e=function(t){const n=C.call(t);return function(t){return 11===t.nodeType||9===t.nodeType}(n)?n.activeElement:null}(t);return e&&t.contains(e)?function(t,n){const e=[];let r=t;for(;r!==n;){const t=o(r);e.push(t),r=t.parentNode}return e}(e,n):[]}(e,T),y=a(!1),b=f(!1),u(M);try{const r=t(e,l,i);return function(){if(n)throw new Error("elementOpenEnd() must be called after calling elementOpenStart().")}(),r}finally{M.notifyChanges(),I=s,M=c,B=w,L=d,R=p,P=m,T=g,j=h,a(y),f(b),u(M)}}}function Z(t){return Y((t,n,e)=>(P=t,W(),n(e),X(),function(t,n){if(P===n)return;let e=P;const r=[];for(;e&&e!==n;)r.push(e.nodeName.toLowerCase()),e=e.parentNode;throw new Error("One or more tags were not closed:\n"+r.join("\n"))}(0,t),t),t)}function $(t){return Y((t,n,e)=>{const r={nextSibling:t};let l=null,i=null;return l=t.nextSibling,i=t.previousSibling,P=r,n(e),T||console.warn("patchOuter requires the node have a parent if there is a key."),function(t,n,e,r){const l=o(t),i=o(n);if(!(i.nextSibling===e&&i.previousSibling===r||i.nextSibling===l.nextSibling&&i.previousSibling===r||i===l))throw new Error("There must be exactly one top level call corresponding to the patched element.")}(r,P,l,i),T&&U(T,V(),t.nextSibling),r===P?null:P},t)}const tt=Z(),nt=$(),et=[];let rt=0;function ot(t,n,e,r){et.push(t),et.push(n),et.push(e),et.push(r)}const lt=p(),it=p();function ct(t,n){const e=q();(function(t,n,e,r){const o=!t.length;let l=0;for(;l<n.length;l+=2){const i=n[l];if(o)t[l]=i;else if(t[l]!==i)break;const c=n[l+1];(o||t[l+1]!==c)&&(t[l+1]=c,ot(r,e,i,c))}if(l<n.length||l<t.length){const o=l;for(l=o;l<t.length;l+=2)lt[t[l]]=t[l+1];for(l=o;l<n.length;l+=2){const o=n[l],i=n[l+1];lt[o]!==i&&ot(r,e,o,i),t[l]=o,t[l+1]=i,delete lt[o]}m(t,n.length);for(const t in lt)ot(r,e,t,void 0),delete lt[t]}!function(){const t=rt,n=et.length;rt=n;for(let e=t;e<n;e+=4)(0,et[e])(et[e+1],et[e+2],et[e+3]);rt=t,m(et,t)}()})(n.getAttrsArr(e.length),e,t,O),m(e,0)}function st(t,n,e){if(n.staticsApplied)return;if(n.staticsApplied=!0,!e||!e.length)return;if(n.hasEmptyAttrsArr()){for(let n=0;n<e.length;n+=2)O(t,e[n],e[n+1]);return}for(let t=0;t<e.length;t+=2)it[e[t]]=t+1;const r=n.getAttrsArr(0);let o=0;for(let t=0;t<r.length;t+=2){const n=r[t],l=r[t+1],i=it[n];i?e[i]===l&&delete it[n]:(r[o]=n,r[o+1]=l,o+=2)}m(r,o);for(const n in it)O(t,n,e[it[n]]),delete it[n]}function ut(t,n,e){const r=K();i("elementOpenStart"),a(!0),r[0]=t,r[1]=n,r[2]=e}function at(t,n){const e=q();l("attr"),e.push(t),e.push(n)}function ft(){const t=K();s("elementOpenEnd"),a(!1);const n=H(t[0],t[1]),e=N(n);return st(n,e,t[2]),ct(n,e),m(t,0),n}function ht(t,n,e,...r){i("elementOpen"),c("elementOpen"),ut(t,n,e);for(let t=3;t<arguments.length;t+=2)at(arguments[t],arguments[t+1]);return ft()}function dt(t){i("elementClose");const n=J();return function(t,n){if(t!==n)throw new Error('Received a call to close "'+n+'" but "'+t+'" was open.')}(N(n).nameOrCtor,t),n}var pt=w,mt=y,gt=x,wt=G,yt=J,bt=Z,xt=$,Ot=Q,At=function(){return l("currentPointer"),i("currentPointer"),V()},St=H,Et=tt,Ct=tt,Dt=nt,_t=function(){!function(t,n){if(null!==P)throw new Error("skip() must come before any child declarations inside the current element.")}(),f(!0),P=T.lastChild},kt=F,Nt=function(n){t=n},vt=function t(n){n.__incrementalDOMData=null;for(let e=n.firstChild;e;e=e.nextSibling)t(e)},Mt=function(t){return o(t.__incrementalDOMData),N(t).key},Pt=function t(n){k(n);for(let e=n.firstChild;e;e=e.nextSibling)t(e)},Tt=function(t){return Boolean(t.__incrementalDOMData)},It=A,jt=g,Bt=function(){const t=Q();ct(t,N(t))},Lt=function(t){const n=Q();st(n,N(n),t)},Rt=at,Kt=dt,qt=ht,zt=ft,Ut=ut,Vt=function(t,n,e,...r){return ht.apply(null,arguments),dt(t)},Wt=function(t){const n=K();s("key"),o(n),n[1]=t},Xt=function(t,...n){i("text"),c("text");const e=(G("#text",null),P),r=N(e);if(r.text!==t){r.text=t;let n=t;for(let t=1;t<arguments.length;t+=1)n=(0,arguments[t])(n);e.data!==n&&(e.data=n)}return e};export{wt as alignWithDOM,pt as applyAttr,Bt as applyAttrs,mt as applyProp,Lt as applyStatics,Rt as attr,gt as attributes,vt as clearCache,yt as close,bt as createPatchInner,xt as createPatchOuter,Ot as currentElement,At as currentPointer,Kt as elementClose,qt as elementOpen,zt as elementOpenEnd,Ut as elementOpenStart,Vt as elementVoid,Mt as getKey,Pt as importNode,Tt as isDataInitialized,Wt as key,It as notifications,St as open,Et as patch,Ct as patchInner,Dt as patchOuter,Nt as setKeyAttributeName,_t as skip,kt as skipNode,jt as symbols,Xt as text};
//# sourceMappingURL=runtimify.esm.js.map
